<div class="d-flex justify-content-end mb-2">
  <button class="btn btn-info mr-2" onclick="window.location.href='/'">Home</button>
  {{#if logged_in}}
  <button class="btn btn-info mr-2" onclick="window.location.href='/dashboard'">Dashboard</button>
  <button class="btn btn-info mr-2" onclick="window.location.href='/messages'">Messages</button>
  <button class="btn btn-secondary" id="logout">logout</button>
  {{else}}
  <button class="btn btn-secondary" id="log-in" onclick="window.location.href='/login'" >login</button>
  {{/if}}
</div>



<div id="chat-container">
        <h2>Chat with {{userParsed.username}}</h2>
    <div id="chat-messages">
        {{#each chat as |message|}}
            <div class="message {{#if (eq message.sender_id ../currentUserId)}}sent{{else}}received{{/if}}">
                <p>{{format_mess_date message.date}}</p>
                <p><strong>{{#if (eq message.sender_id ../currentUserId)}}You{{else}}{{message.Sender.username}}{{/if}}:</strong> {{message.content}}</p>
            </div>
        {{/each}}
    </div>
    <form id="chat-form">
        <input type="text" id="message-input" placeholder="Type a message...">
        <button type="submit" class="btn btn-success">Send</button>
    </form>
</div>
<script src="https://cdn.socket.io/4.7.5/socket.io.min.js" integrity="sha384-2huaZvOR9iDzHqslqwpR87isEmrfxqyWOF7hr7BY6KG0+hVKLoEXMPUJw3ynWuhO" crossorigin="anonymous"></script>
<script src="/js/chat.js"></script>

